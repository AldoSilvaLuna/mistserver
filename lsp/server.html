
<html>
  <head>
    <meta http-equiv='content-type' content='text/html;charset=utf-8' />
    <title>MistServer Manager</title>
    <script src='jquery.js'></script>
    <script src='placeholder.js'></script> 
    <script src='md5.js'></script>
    <script src='main.js'></script>
    <script src='pages.js'></script>
    <script src='tablesort.js'></script>
    <link rel='stylesheet' href='main.css' />
      <script>
        //these are placed here because the compression compiler does not deal with the eval function properly.
        //enter the values of the settings object into their input fields
        function enterSettings(){
          $('.isSetting').each(function(){
            var objpath = findObjPath($(this));
            var val = '';
            try {
              eval('val = '+objpath+';');
            }
            catch(e) {  }
            if ($(this).is('input,select')) {
              $(this).val(val);
            }
            else {
              $(this).text(val);
            }
          });
        }
        //this function is for moving limits (LTS only)
        function moveLimit(destination,streamName,objpath) {
          if ((streamName == '_new_') || (destination != streamName[0])) {
            var target;
            if (destination == 'server') {
              if (!settings.settings.config.limits) {
                settings.settings.config.limits = [];
              }
              target = settings.settings.config.limits;
            }
            else {
              destination = destination.replace('stream-','');
              if (!settings.settings.streams[destination].limits) {
                settings.settings.streams[destination].limits = [];
              }
              target = settings.settings.streams[destination].limits;
            }
            
            eval('target.push(settings.'+objpath+');');
            eval('delete settings.'+objpath+';');
          }
        }
      </script>
  </head>
  <body>
  
  <div id='header'>
    <div id='logo'>
      <a href='http://mistserver.org' target='_blank'>
	<span>Mist/</span> Server
      </a>
    </div>
    <div id='status'>
      <span id='connection' class='red'>Disconnected</span>
      <span id='user_and_host'></span>
      <span id='message'></span>
    </div>
  </div>
  
  <div id='menu'>
    <div class='button'>Overview</div>
    <div class='button'>Protocols</div>
    <div class='button'>Streams</div>
    <div class='button LTS-only'>Limits</div>
    <div class='button'>Conversion</div>
    <div class='button'>Logs</div>
    <div class='button'>Server Stats</div>
    <br>
    <div class='button red'>Disconnect</div>
    <a class='button' href='http://shop.mistserver.org' target='_blank'>Mist Shop</a>
  </div>
  
  <div id='page'></div>
  
  </body>
</html>